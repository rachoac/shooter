<html>
<head>
    <script src="processing.js"></script>
    <link href="style.css" rel="stylesheet">
</head>
<body>
<canvas id="canvas1"></canvas>
<script id="script1" type="text/javascript" src="public/build/main.js"></script>
<script>
    function sketchProc(processing) {
        var engine = window.Engine.initialize(processing)

        var conn = new WebSocket("ws://" + document.location.host + "/ws");
        conn.onclose = function (evt) {
            engine.onSocketClose(evt)
        };
        conn.onmessage = function (evt) {
            engine.onSocketMessage(evt)
        }
        engine.setClient(conn)

        processing.draw = function() {
            engine.update()
        }
    }
    var canvas = document.getElementById("canvas1")
    var p = new Processing(canvas, sketchProc)
</script>
</body>
</html>